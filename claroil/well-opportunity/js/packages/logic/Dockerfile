FROM node:lts
ENV PORT 4000
EXPOSE 4000

WORKDIR /app

ENV REMOTE_KSVC_ENDPOINT_URL=

# Auth
ENV MACHINE_TO_MACHINE_APP_AUTH_DOMAIN=
ENV MACHINE_TO_MACHINE_APP_AUTH_CLIENT_ID=
ENV MACHINE_TO_MACHINE_APP_AUTH_CLIENT_SECRET=
ENV MACHINE_TO_MACHINE_APP_AUTH_IDENTIFIER=

COPY package.json .
RUN npm install
COPY . .

CMD ["npm", "start"]
